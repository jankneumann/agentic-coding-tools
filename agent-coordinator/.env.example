# Supabase Configuration
# Get these from your Supabase project dashboard
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key

# Agent Identity
# These identify this agent instance in the coordination system
AGENT_ID=claude-code-1
AGENT_TYPE=claude_code

# Optional: Session tracking
SESSION_ID=

# Lock Configuration
# Default lock TTL in minutes (default: 120 = 2 hours)
LOCK_TTL_MINUTES=120

# Database Backend
# "supabase" (default, PostgREST) or "postgres" (direct asyncpg)
DB_BACKEND=supabase

# Direct PostgreSQL (only when DB_BACKEND=postgres)
# POSTGRES_DSN=postgresql://user:password@localhost:5432/coordinator
# POSTGRES_POOL_MIN=2
# POSTGRES_POOL_MAX=10

# Guardrails Configuration
# Cache TTL for guardrail patterns in seconds (default: 300)
GUARDRAILS_CACHE_TTL=300
# Enable code fallback patterns when DB is unavailable (default: true)
GUARDRAILS_CODE_FALLBACK=true

# Agent Profiles Configuration
# Default trust level for unknown agents (default: 1)
PROFILES_DEFAULT_TRUST_LEVEL=1
# Enforce resource limits from profiles (default: true)
PROFILES_ENFORCE_RESOURCE_LIMITS=true

# Audit Configuration
# Retention period for audit entries in days (default: 90)
AUDIT_RETENTION_DAYS=90
# Use async (fire-and-forget) logging (default: true)
AUDIT_ASYNC_LOGGING=true

# Network Policies Configuration
# Default policy when no matching rule: "deny" or "allow" (default: deny)
NETWORK_DEFAULT_POLICY=deny

# Policy Engine Configuration
# "native" (profiles + network policies) or "cedar" (cedarpy)
POLICY_ENGINE=native
# Cache TTL for Cedar policies in seconds (default: 300)
POLICY_CACHE_TTL=300
# Fall back to file-based policies when DB unavailable (default: true)
POLICY_CODE_FALLBACK=true
# Path to Cedar schema file (optional, auto-detected from cedar/ dir)
# CEDAR_SCHEMA_PATH=cedar/schema.cedarschema

# GitHub Coordination (optional)
# GITHUB_TOKEN=ghp_your_token
# GITHUB_REPO=owner/repo
